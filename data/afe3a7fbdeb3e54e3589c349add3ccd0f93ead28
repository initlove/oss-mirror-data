{
  "node_id": "MDM6VGFnNDYwODk1NjA6YWZlM2E3ZmJkZWIzZTU0ZTM1ODljMzQ5YWRkM2NjZDBmOTNlYWQyOA==",
  "sha": "afe3a7fbdeb3e54e3589c349add3ccd0f93ead28",
  "url": "https://api.github.com/repos/containerd/containerd/git/tags/afe3a7fbdeb3e54e3589c349add3ccd0f93ead28",
  "tagger": {
    "name": "Stephen J Day",
    "email": "stephen.day@docker.com",
    "date": "2017-07-26T22:48:10Z"
  },
  "object": {
    "sha": "856b03843737a45ba1b8c1bf9558e44cabedb2e7",
    "type": "commit",
    "url": "https://api.github.com/repos/containerd/containerd/git/commits/856b03843737a45ba1b8c1bf9558e44cabedb2e7"
  },
  "tag": "v1.0.0-alpha2",
  "message": "containerd 1.0.0-alpha2\n\nWith another week comes another alpha release. With this release, we have\nfocused on increasing overall quality and consistency across the code base.\nSeveral new tests have been added, along with attention to refactoring in\nvarious subsystems to match current needs.\n\nUnfortunately, we had to break some interfaces to achieve these goals. See the\nsection on Upgrading for details.\n\nAgain, please download the binaries provided and kick the tires. Please report\nissues through the https://github.com/containerd/containerd/issues. Your\nfeedback is extremely important at this stage, so please don't be bashful about\nletting us know what you think.\n\nUpgrading\n\nSome backwards incompatible changes have been made to the GRPC API and the\nsnapshotter storage format. See the sections on Events and Snapshotters for more details.\n\nTo upgrade, you'll need to clear out the containerd root, which defaults to\n`/var/lib/containerd/`. All containers, images and metadata will be lost, if\nyou do this. If this is a problem, please reach out and we can work out a\nmigration script. If such a change was done from a production release, a\nmigration script would have been provided.\n\nAlso, make sure to update your clients to the latest version that picks up the\nnew definition for the events service. This change would not be accepted in a\nfull released version.\n\nEvents\n\nAfter dealing with a few deadlock issues, the events subsystem has been\ncompletely refactored to match the existing use cases. Specifically, a lot of\ncruft around the original design, based on Go's context package has been\nremoved. The use of go-events has been cleaned up to ensure correct\nsubscription and distribution of events, in addition to ensuring correct\nteardown.\n\nThe nomenclature has also been updated to better reflect familiar \"publish\" and\n\"subscribe\" models. If you closely examine #1246, you'll see that the usage of\nthe `Publisher` interface is much simpler than the `WithTopic` approach. This\nshould allow us to add events to more subsystems.\n\nThe GRPC API for the Events service was updated to bring the service inline\nwith these changes. Post and Stream have been replaced with Publish and\nSubscribe, respectively. Clients will have to be updated to use the new API\nendpoints.\n\nAfter these changes, adding proper filter support should be more\nstraightforward.\n\nSee a615a6fe for details.\n\nSnapshotter\n\nPreviously, snapshots had an attribute `Readonly` that was only valid for\n`Active` snapshots. After looking at various conditionals, snapshot behavior\nand usage, we found that these snapshots were better represented as a discrete\ntype, known as a \"view snapshot\".\n\nUnfortunately, we've add to break compatibility with the existing storage\nformat to correctly enumerate the snapshot types. Users will have to remove the\nold storage and start from the scratch.\n\nSee 863784f9 for details.\n\nTar\n\nTars with duplicated symlinks in disparate layers are now handled correctly.\n\nSee afec478b for details.\n\n- Windows support\n- snapshot command now supports \"commit\"\n- More testing\n\nWindows Support\n\nProgress on supporting windows has received a major boost. Windows integration\nhas been refactored to more closely follow existing changes throughout\ncontainerd.\n\nCommands\n\nA new command has been added to `ctr snapshot` to allow committing of active\nsnapshots. The help output has been reordered to be alphabetical.\n\nChanges\n\n856b0384 Merge pull request #1253 from stevvooe/alpha2\n997a1b5a release: prepare for v1.0.0-alpha2\nb84817a2 Merge pull request #1246 from stevvooe/events-refactor\n03623285 Merge pull request #1248 from dmcgowan/snapshot-storage-kind-test\n366ebfd6 Merge pull request #1249 from dmcgowan/client-rename-with-rootfs\nc7cc6ad2 Add root mounts to task info\n73bec3ed client: rename rootfs to snapshot in \"With\" functions\na615a6fe events: refactor event distribution\n6012f504 Update storage kind test\n9434bf9e Merge pull request #1236 from stevvooe/snapshot-column-kind\n050c7d24 Merge pull request #1247 from darrenstahlmsft/revendorMicrosoft\ncec6331e Revendor hcsshim and go-winio\n1251413a Merge pull request #1245 from dmcgowan/archive-more-tar-fixes\nafec478b Update tar path resolution\n863784f9 snapshot: replace \"readonly\" with View snapshot type\na9ab45fb Merge pull request #1241 from stevvooe/allow-resumable-upload\nbfe747da Merge pull request #1242 from mlaventure/appveyor-no-coverage-only-master\nf5bd8bbb Merge pull request #1243 from crosbymichael/reg-diff-urls\na3769f88 Panic when registering the same type but diff urls\n219c3e39 Disable coverage tests on Windows CI\n2eaac710 Only run Windows CI on master branch\nd0e396aa metadata: defer ingest lock to backend\nc52523c4 Merge pull request #1238 from crosbymichael/reg-specs\nf98b2979 Merge pull request #1239 from crosbymichael/roadmap\nba577f71 Merge pull request #1227 from tossmilestone/fix-comment-typo\nbecf0015 Replace roadmap with link to milestones\nb7e0101b Merge pull request #1228 from dmcgowan/content-testsuite\n228f7d45 Register spec types in client\n8e1591bd Call upload status tests\nbb3c9c59 Rename content/fs to content/local\n938f3185 Add content test suite\n44236524 Move content store implementation\n9b53b8b6 Merge pull request #1237 from WeiZhang555/remove-hardcoded-str\nadeec483 Replace hardcoded debug address with const var\n856c351f Improve the comment\n4118a256 Merge pull request #1234 from dmcgowan/update-logrus\n14912932 Update dependencies for logrus rename\n1d2a079f update to github.com/sirupsen/logrus v1.0.0\ndd7642fc Merge pull request #1196 from mlaventure/update-windows-runtime\na2df6d1a Merge pull request #1141 from ijc/rootfsPropagation\n0f6959a2 Merge pull request #1160 from darkowlzz/1082-snapshot-commit\na6211858 Merge pull request #1179 from AkihiroSuda/makefile-i\naeab9355 Fix vet errors\neb4e0b5f Add AppVeyor configuration\ne3fcde69 Fix deadlock in events service\n5ea5fbdf Fix deadlock in TestContainerExec if `process.Wait()` fails\nd4e780d7 Ensure tasks are started when running tests\n3df07cbc Cancel io if task is deleted without being started\n8e12d1fc ctr: Allow deleting a container in the Created state\n4d14bfd8 go-winio: Don't increment the wait count if the file is closing\n7f786cf0 go-winio: Prevent Data Race when accessing closing\ndb1b0a2a Update go-winio to v0.4.3\n651aaff7 Update integration test to support windows\n79d04ded Make integration a bit more verbose\nb2d9db2e windows: Use runtime event topic constants\n5c8e0efb windows: Add servicing code\n4bb9ac28 Sort ctr commands alphabetically\nd0166c42 Register content command with ctr\nd10c62d4 Wrap typeurl returned errors with the provided url/type\n5fd004a1 Update vendoring\n546f0451 Update errdefs.ErrInvalidArgument message\n674b460d Move typeurl registrations to runtime package\na4aaa09c Update ctr so it works again on windows\n61fbd231 windows: Refactor whole code\nfc82e149 windows: Move runtime options out of the spec field\nacf863a0 windows: Rely on the OCI specs instead of custom type\nbff040d0 windows: Ensure pids are not reused if active\nd42cb88b Loop umount'ing rootfs until there are no more mounts\nd63d2ecf Simplify mount cleanup on failure by using defer\n300f0831 Cleanup mounts if we fail to mount one element of rootfs\n8b365117 containerd-shim: Do not remount root MS_SLAVE\n912ddbae cmd/ctr: add commit command to snapshot\nb6dbbd33 Fix typo error in Protobuild.toml\n7822819f .travis.yml: run go build -i\nf72e97db Makefile: `go build -i` -> `go build`\n-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJZeSQfAAoJEGez3thO3II/AdQQALYnacmNgBYVYmLTwBR4H9c0\nvoM5CfDmbDv2yEBJg6t9yXTHNcm0d5lPt/KiInrNT2YwZvSjNFvWGhiZkktWS+Pm\nHpTP0juHorwteWqbOI+MllJ7ASpa3Ld7VK8oz9rIJ+QM3aqmmgLROHKPB184BMs7\nmak2pTBmxwlEyJLAa5kFHKcPCFi/tsRo8tN2ox5BUcOKsqKM1DcC/cdQ2kPGWcJC\nYyibBZJZzKMtqMBuFO/bTdZl08FLm14FpsqNkyr66CarvA5MAHHHgB7sjtgfzlCr\nDye0bLHX1s8bbth3hcAfkmA9ZKWmZA5O02D1X7G+edg4e7M2YLlCfofDrSvID8O/\nLPrQ9X2vbrRJ2OtlwztIcd8IzSVnKEUKIvAv8tdnjwYawe1s4SJzMgbfiUoPKOqS\nPZYxW4UATK8CpCN6Ieoo44AyJIEoX7Eh5WbieBuJ604dL9gFNMZvQnbAaxY72/e3\nImQXCl4m9CHjHLiw2Wq2DA4NGqFzvC8Rwj4cVGbmo0D9Twgs39HYT9FEkkxARLAV\nKfhEJ2q0fHTSZFdgW2VCfaI+i59CUAg9Ij74DBfpQC2F+C9hHqvBPLs3ayiFn2A9\nzODBnDpAL0TiCanmzdhcssEqkD9m4Nc2sWq26Z+Tr+vPq/I+VIezQkFBhfIME/GI\nTKeWe03bknRyykihBTfA\n=wn00\n-----END PGP SIGNATURE-----\n",
  "verification": {
    "verified": false,
    "reason": "unverified_email",
    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQIcBAABCAAGBQJZeSQfAAoJEGez3thO3II/AdQQALYnacmNgBYVYmLTwBR4H9c0\nvoM5CfDmbDv2yEBJg6t9yXTHNcm0d5lPt/KiInrNT2YwZvSjNFvWGhiZkktWS+Pm\nHpTP0juHorwteWqbOI+MllJ7ASpa3Ld7VK8oz9rIJ+QM3aqmmgLROHKPB184BMs7\nmak2pTBmxwlEyJLAa5kFHKcPCFi/tsRo8tN2ox5BUcOKsqKM1DcC/cdQ2kPGWcJC\nYyibBZJZzKMtqMBuFO/bTdZl08FLm14FpsqNkyr66CarvA5MAHHHgB7sjtgfzlCr\nDye0bLHX1s8bbth3hcAfkmA9ZKWmZA5O02D1X7G+edg4e7M2YLlCfofDrSvID8O/\nLPrQ9X2vbrRJ2OtlwztIcd8IzSVnKEUKIvAv8tdnjwYawe1s4SJzMgbfiUoPKOqS\nPZYxW4UATK8CpCN6Ieoo44AyJIEoX7Eh5WbieBuJ604dL9gFNMZvQnbAaxY72/e3\nImQXCl4m9CHjHLiw2Wq2DA4NGqFzvC8Rwj4cVGbmo0D9Twgs39HYT9FEkkxARLAV\nKfhEJ2q0fHTSZFdgW2VCfaI+i59CUAg9Ij74DBfpQC2F+C9hHqvBPLs3ayiFn2A9\nzODBnDpAL0TiCanmzdhcssEqkD9m4Nc2sWq26Z+Tr+vPq/I+VIezQkFBhfIME/GI\nTKeWe03bknRyykihBTfA\n=wn00\n-----END PGP SIGNATURE-----\n",
    "payload": "object 856b03843737a45ba1b8c1bf9558e44cabedb2e7\ntype commit\ntag v1.0.0-alpha2\ntagger Stephen J Day <stephen.day@docker.com> 1501109290 -0700\n\ncontainerd 1.0.0-alpha2\n\nWith another week comes another alpha release. With this release, we have\nfocused on increasing overall quality and consistency across the code base.\nSeveral new tests have been added, along with attention to refactoring in\nvarious subsystems to match current needs.\n\nUnfortunately, we had to break some interfaces to achieve these goals. See the\nsection on Upgrading for details.\n\nAgain, please download the binaries provided and kick the tires. Please report\nissues through the https://github.com/containerd/containerd/issues. Your\nfeedback is extremely important at this stage, so please don't be bashful about\nletting us know what you think.\n\nUpgrading\n\nSome backwards incompatible changes have been made to the GRPC API and the\nsnapshotter storage format. See the sections on Events and Snapshotters for more details.\n\nTo upgrade, you'll need to clear out the containerd root, which defaults to\n`/var/lib/containerd/`. All containers, images and metadata will be lost, if\nyou do this. If this is a problem, please reach out and we can work out a\nmigration script. If such a change was done from a production release, a\nmigration script would have been provided.\n\nAlso, make sure to update your clients to the latest version that picks up the\nnew definition for the events service. This change would not be accepted in a\nfull released version.\n\nEvents\n\nAfter dealing with a few deadlock issues, the events subsystem has been\ncompletely refactored to match the existing use cases. Specifically, a lot of\ncruft around the original design, based on Go's context package has been\nremoved. The use of go-events has been cleaned up to ensure correct\nsubscription and distribution of events, in addition to ensuring correct\nteardown.\n\nThe nomenclature has also been updated to better reflect familiar \"publish\" and\n\"subscribe\" models. If you closely examine #1246, you'll see that the usage of\nthe `Publisher` interface is much simpler than the `WithTopic` approach. This\nshould allow us to add events to more subsystems.\n\nThe GRPC API for the Events service was updated to bring the service inline\nwith these changes. Post and Stream have been replaced with Publish and\nSubscribe, respectively. Clients will have to be updated to use the new API\nendpoints.\n\nAfter these changes, adding proper filter support should be more\nstraightforward.\n\nSee a615a6fe for details.\n\nSnapshotter\n\nPreviously, snapshots had an attribute `Readonly` that was only valid for\n`Active` snapshots. After looking at various conditionals, snapshot behavior\nand usage, we found that these snapshots were better represented as a discrete\ntype, known as a \"view snapshot\".\n\nUnfortunately, we've add to break compatibility with the existing storage\nformat to correctly enumerate the snapshot types. Users will have to remove the\nold storage and start from the scratch.\n\nSee 863784f9 for details.\n\nTar\n\nTars with duplicated symlinks in disparate layers are now handled correctly.\n\nSee afec478b for details.\n\n- Windows support\n- snapshot command now supports \"commit\"\n- More testing\n\nWindows Support\n\nProgress on supporting windows has received a major boost. Windows integration\nhas been refactored to more closely follow existing changes throughout\ncontainerd.\n\nCommands\n\nA new command has been added to `ctr snapshot` to allow committing of active\nsnapshots. The help output has been reordered to be alphabetical.\n\nChanges\n\n856b0384 Merge pull request #1253 from stevvooe/alpha2\n997a1b5a release: prepare for v1.0.0-alpha2\nb84817a2 Merge pull request #1246 from stevvooe/events-refactor\n03623285 Merge pull request #1248 from dmcgowan/snapshot-storage-kind-test\n366ebfd6 Merge pull request #1249 from dmcgowan/client-rename-with-rootfs\nc7cc6ad2 Add root mounts to task info\n73bec3ed client: rename rootfs to snapshot in \"With\" functions\na615a6fe events: refactor event distribution\n6012f504 Update storage kind test\n9434bf9e Merge pull request #1236 from stevvooe/snapshot-column-kind\n050c7d24 Merge pull request #1247 from darrenstahlmsft/revendorMicrosoft\ncec6331e Revendor hcsshim and go-winio\n1251413a Merge pull request #1245 from dmcgowan/archive-more-tar-fixes\nafec478b Update tar path resolution\n863784f9 snapshot: replace \"readonly\" with View snapshot type\na9ab45fb Merge pull request #1241 from stevvooe/allow-resumable-upload\nbfe747da Merge pull request #1242 from mlaventure/appveyor-no-coverage-only-master\nf5bd8bbb Merge pull request #1243 from crosbymichael/reg-diff-urls\na3769f88 Panic when registering the same type but diff urls\n219c3e39 Disable coverage tests on Windows CI\n2eaac710 Only run Windows CI on master branch\nd0e396aa metadata: defer ingest lock to backend\nc52523c4 Merge pull request #1238 from crosbymichael/reg-specs\nf98b2979 Merge pull request #1239 from crosbymichael/roadmap\nba577f71 Merge pull request #1227 from tossmilestone/fix-comment-typo\nbecf0015 Replace roadmap with link to milestones\nb7e0101b Merge pull request #1228 from dmcgowan/content-testsuite\n228f7d45 Register spec types in client\n8e1591bd Call upload status tests\nbb3c9c59 Rename content/fs to content/local\n938f3185 Add content test suite\n44236524 Move content store implementation\n9b53b8b6 Merge pull request #1237 from WeiZhang555/remove-hardcoded-str\nadeec483 Replace hardcoded debug address with const var\n856c351f Improve the comment\n4118a256 Merge pull request #1234 from dmcgowan/update-logrus\n14912932 Update dependencies for logrus rename\n1d2a079f update to github.com/sirupsen/logrus v1.0.0\ndd7642fc Merge pull request #1196 from mlaventure/update-windows-runtime\na2df6d1a Merge pull request #1141 from ijc/rootfsPropagation\n0f6959a2 Merge pull request #1160 from darkowlzz/1082-snapshot-commit\na6211858 Merge pull request #1179 from AkihiroSuda/makefile-i\naeab9355 Fix vet errors\neb4e0b5f Add AppVeyor configuration\ne3fcde69 Fix deadlock in events service\n5ea5fbdf Fix deadlock in TestContainerExec if `process.Wait()` fails\nd4e780d7 Ensure tasks are started when running tests\n3df07cbc Cancel io if task is deleted without being started\n8e12d1fc ctr: Allow deleting a container in the Created state\n4d14bfd8 go-winio: Don't increment the wait count if the file is closing\n7f786cf0 go-winio: Prevent Data Race when accessing closing\ndb1b0a2a Update go-winio to v0.4.3\n651aaff7 Update integration test to support windows\n79d04ded Make integration a bit more verbose\nb2d9db2e windows: Use runtime event topic constants\n5c8e0efb windows: Add servicing code\n4bb9ac28 Sort ctr commands alphabetically\nd0166c42 Register content command with ctr\nd10c62d4 Wrap typeurl returned errors with the provided url/type\n5fd004a1 Update vendoring\n546f0451 Update errdefs.ErrInvalidArgument message\n674b460d Move typeurl registrations to runtime package\na4aaa09c Update ctr so it works again on windows\n61fbd231 windows: Refactor whole code\nfc82e149 windows: Move runtime options out of the spec field\nacf863a0 windows: Rely on the OCI specs instead of custom type\nbff040d0 windows: Ensure pids are not reused if active\nd42cb88b Loop umount'ing rootfs until there are no more mounts\nd63d2ecf Simplify mount cleanup on failure by using defer\n300f0831 Cleanup mounts if we fail to mount one element of rootfs\n8b365117 containerd-shim: Do not remount root MS_SLAVE\n912ddbae cmd/ctr: add commit command to snapshot\nb6dbbd33 Fix typo error in Protobuild.toml\n7822819f .travis.yml: run go build -i\nf72e97db Makefile: `go build -i` -> `go build`\n"
  }
}
