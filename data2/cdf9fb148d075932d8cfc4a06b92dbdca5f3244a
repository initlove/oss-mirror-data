{
  "node_id": "MDM6VGFnMzY5NjAzMjE6Y2RmOWZiMTQ4ZDA3NTkzMmQ4Y2ZjNGEwNmI5MmRiZGNhNWYzMjQ0YQ==",
  "sha": "cdf9fb148d075932d8cfc4a06b92dbdca5f3244a",
  "url": "https://api.github.com/repos/opencontainers/runc/git/tags/cdf9fb148d075932d8cfc4a06b92dbdca5f3244a",
  "tagger": {
    "name": "Aleksa Sarai",
    "email": "asarai@suse.de",
    "date": "2018-11-21T04:35:08Z"
  },
  "object": {
    "sha": "ccb5efd37fb7c86364786e9137e22948751de7ed",
    "type": "commit",
    "url": "https://api.github.com/repos/opencontainers/runc/git/commits/ccb5efd37fb7c86364786e9137e22948751de7ed"
  },
  "tag": "v1.0.0-rc6",
  "message": "v1.0.0~rc6\n\nThis is the final feature release of runc before 1.0, rather than 1.0\nitself. The reason for tihs is that, during the preparations for this\nrelease (which was originally meant to be 1.0) it was brought up that\nthere were several spec-compliance problems. One of these was related to\nhook ordering, and upon trying to fix them it turns out that many users\n(notably the NVIDIA OCI hooks) make use of our incorrect hook ordering.\nMany of the proposed solutions to this problem all require a lot of time\nand co-ordination, and thus would stall this release indefinitely.\n\nSo, the idea is to have an intermediate release which will mark a\nfreeze-on-everything-except-spec-compliance-bugs. No other changes will\nbe included pre-1.0 (aside from security patches obviously).\n\nFeatures:\n + Upgrade to using Go 1.10. #1711\n + Upgrade to CRIU 3.11. #1711 #1864 #1935 #1936\n + Allow for checkpoint-restore into a foreign network namespace. #1849\n + The \"type\" field for bind-mounts is now ignored. This is important, because\n   many users incorrectly assume that \"type\" defines a bind-mount and not\n   \"options\". Previously you had to set both. #1753 #1845\n + \"setgroups=allow\" is now possible in rootless mode, but requires the use of\n   the privileged newgidmap helper (fully-rootless still requires\n   \"setgroups=deny\"). #1693\n + Rootless mode can now safely ignore a read-only cgroupfs. #1759 #1806\n + Several aspects of rootless mode are now used inside user namespaces. This\n   is necessary for a bunch of useful things (such as running Docker inside an\n   user namespace), but did cause some breakages. We think they've all been\n   fixed -- but if not please submit an issue! #1688 #1808 #1816 #1862\n + Improve kernel.{domain,host}name sysctl handling, to allow the NIS\n   domainname to be set from Docker or other callers without an OCI spec\n   change. #1827\n + Add documentation for one of the more confusion parts of runc, how terminals\n   are handled (including an explanation of --console-socket). All the gory\n   details and recommendations are available in docs/terminals.md. #1730\n + Allow /proc to be bind-mounted over (useful for rootless containers). #1832\n + Ignore ENOSYS for keyctl(2) operations. This is necessary to get Docker\n   working with LXC under the default seccomp profile (which is what ChromeOS\n   uses). #1893\n + Add support for the Intel RDT/MBA resource control system. #1632 #1913\n + Allow building with completely-disabled kmemcg support, to get around\n   problems with broken kernels (RHEL 7.5 can oops with kmemcg accounting\n   enabled). #1921 #1922 #1930\n + Add support for cgroup namespaces, which in turn fixes a few other issues we\n   encountered with the previous code (which could be moving us to a cgroup\n   during Go execution). #1916\n\nFixes:\n * Namespace creation with user namespaces now plays a bit nicer with SELinux\n   and IPC (which had a bug where the in-kernel mqueue mount would have the\n   wrong tag if using unshare(CLONE_NEWUSER|CLONE_NEWIPC)). This is done to\n   avoid future problems with broken kernel integration. #1562\n * Mild refactor of libcontainer/user. #1749\n * Fix null-pointer-exception when no cgroups were set. #1752\n * Various DBus and systemd related changes for the systemd-cgroup driver.\n   #1754 #1772 #1776 #1781 #1805 #1917\n * Apply SELinux label to masked directories. #1756\n * Obey the XDG spec and set the sticky bit on runc's root when using\n   XDG_RUNTIME_DIR (in rootless mode). #1760\n * Only configure network namespaces if we are creating them. #1777\n * Fix race in runc-exec against a currently-exiting pid1. #1812\n * Forward GOMAXPROCS to try to reduce the number of threads started by 'runc\n   init'. Unforunately there's no way to stop Go from spawning new threads so\n   this is more of a recommendation. #1830\n * Fix tmpcopyup in cases where /tmp is not a private mount. #1873\n * Whitelist /proc/loadavg for bind-mounting. #1882\n * Protect against deletion of runc state directory with a containerid of \"..\",\n   as well as the addition of other path hardening code. #1883\n * Handle duplicated cgroupfs mountpoint entries more sanely, to make runc work\n   on distributions that use-and-abuse shared subtrees. #1817\n * Fix console hanging in several cases. #1895 #1897\n * Lock-to-a-thread during 'runc init' to ensure that that we don't switch\n   threads and run within a different SELinux label. #1814\n * Respect cgroupPath when trying to find the cgroupfs mountpoint (which can\n   happen in cases where containers are given different cgroupfs mounts). #1872\n * And many other minor changes, many from first-time contributors! #1746 #1748\n   #1749 #1784 #1779 #1785 #1796 #1819 #1825 #1836 #1824 #1820 #1838 #1840\n   #1841 #1867 #1871 #1855 #1854 #1874 #1868 #1886 #1892 #1858 #1894 #1908\n   #1880 #1910 #1915 #1903 #1922 #1926 #1928 #1925 #1911\n\nFixes (for spec violations):\n * Don't set a container to \"running\" when exec-ing into it (because it might\n   be in the \"created\" state). #1771\n * oom_score_adj is now no longer modified if it was unspecified in config.json\n   (this was a spec violation). #1759\n * Set \"status\" in hook stdin, as well as switch to using *spec.State to avoid\n   JSON-representation drift. #1741\n\nThanks to all of the contributors that made this release possible:\n\n * Ace-Tang <aceapril@126.com>\n * Adrian Reber <areber@redhat.com>\n * Akihiro Suda <suda.akihiro@lab.ntt.co.jp>\n * Alban Crequy <alban@kinvolk.io>\n * Aleksa Sarai <asarai@suse.de>\n * Alex Glikson <alex.glikson@gmail.com>\n * Andrei Vagin <avagin@virtuozzo.com>\n * Antonio Murdaca <runcom@redhat.com>\n * Bin Chen <nk@devicu.com>\n * ChangFeng <changfeng@pinduoduo.com>\n * Chris Aniszczyk <caniszczyk@gmail.com>\n * Danail Branekov <danailster@gmail.com>\n * Daniel, Dao Quang Minh <dqminh89@gmail.com>\n * Daniel J Walsh <dwalsh@redhat.com>\n * Denys Smirnov <denys@sourced.tech>\n * Derek Carr <decarr@redhat.com>\n * dlorenc <lorenc.d@gmail.com>\n * Dmitry Smirnov <onlyjob@member.fsf.org>\n * Dominik Süß <dominik@suess.wtf>\n * Filipe Brandenburger <filbranden@google.com>\n * Giuseppe Scrivano <gscrivan@redhat.com>\n * Harald Nordgren <haraldnordgren@gmail.com>\n * Jay Kamat <jaygkamat@gmail.com>\n * Jonathan Marler <johnnymarler@gmail.com>\n * Kenta Tada <Kenta.Tada@sony.com>\n * Kir Kolyshkin <kolyshkin@gmail.com>\n * Lifubang <lifubang@acmcoder.com>\n * Lin Yang <lin.a.yang@intel.com>\n * Marco Vedovati <mvedovati@suse.com>\n * Michael Crosby <crosbymichael@gmail.com>\n * Mike Brown <brownwm@us.ibm.com>\n * Mrunal Patel <mrunalp@gmail.com>\n * Nalin Dahyabhai <nalin@redhat.com>\n * Qiang Huang <h.huangqiang@huawei.com>\n * Sebastien Boeuf <sebastien.boeuf@intel.com>\n * Sergio Lopez <slp@redhat.com>\n * Tamal Saha <tamal@appscode.com>\n * Tibor Vass <tibor@docker.com>\n * vikaschoudhary16 <choudharyvikas16@gmail.com>\n * Vincent Batts <vbatts@hashbangbash.com>\n * W. Trevor King <wking@tremily.us>\n * Xiaochen Shen <xiaochen.shen@intel.com>\n * Yan Zhu <yanzhu@alauda.io>\n * Yuanhong Peng <pengyuanhong@huawei.com>\n\nSigned-off-by: Aleksa Sarai <asarai@suse.de>\n-----BEGIN PGP SIGNATURE-----\n\niQJDBAABCAAtFiEEXzbGxhtUYBJKdfWmnhiqJn3bjbQFAlv04IAPHGFzYXJhaUBz\ndXNlLmRlAAoJEJ4YqiZ92420gCoQAMk87C8KIrPF2f6ld25wqzqnhyIIG3kLM3SX\nII/E1KYN5rmABhDFAZ6EKYX6FPJEdjTFg2vcFYBr60wUt/bsP4MX/UFPMfClKSDK\nImo02beBhY5vmc3XDfS74fdnMk8gWwse5s/GP6+0VCM0mYTm/Mdlx2Sh0PwTN0W6\ni7mN1+0jnC1nuPTfMFj3m388TYGIJKyleILWnJUX7UPatsw9hJ+vL8DTP160czD3\nEhOGHO2m0/VOsAJxUUERHAAr0ptMqllHQt98IkLwdKPTeFqPuHCSfLvJK6EQ9PDH\nDaHgjcw/aqTK46DSCvgpuYwLwBKexT0YT8QUDoD5tcq7ZlkNMy5F0/6KI0Yurvpw\nKQRa7AhYkw9VMeLRFDj1Fb57lESkZ7r8MZcWBqwKL0ARSt/QIucDxoKpzPa+6k+/\neAcS6r3kOfDVtmItMNbcySURYBiv/CEWfVMM795kbZ4rzbj7RprqgTPYVqlsV/Fp\n3ULUtqw7ZorjBmdWJvJx/8Z+KSA50GMPHvpBHqVEr00uYb3bNnBII/+gY2AeWhRz\n4v+eW/OZs8CXwz2d3w8qHLEfKgvW5otV0sg3d6kl2sBz5upq4oDKJahuroqAGpzK\nF98HjY40nQ6mS+nQSNyivAR6/yivVROvz94Gt38KWdhTAf/wYeS2oIWYFR9YxjDv\nflmjw3e/\n=Cmon\n-----END PGP SIGNATURE-----\n",
  "verification": {
    "verified": true,
    "reason": "valid",
    "signature": "-----BEGIN PGP SIGNATURE-----\n\niQJDBAABCAAtFiEEXzbGxhtUYBJKdfWmnhiqJn3bjbQFAlv04IAPHGFzYXJhaUBz\ndXNlLmRlAAoJEJ4YqiZ92420gCoQAMk87C8KIrPF2f6ld25wqzqnhyIIG3kLM3SX\nII/E1KYN5rmABhDFAZ6EKYX6FPJEdjTFg2vcFYBr60wUt/bsP4MX/UFPMfClKSDK\nImo02beBhY5vmc3XDfS74fdnMk8gWwse5s/GP6+0VCM0mYTm/Mdlx2Sh0PwTN0W6\ni7mN1+0jnC1nuPTfMFj3m388TYGIJKyleILWnJUX7UPatsw9hJ+vL8DTP160czD3\nEhOGHO2m0/VOsAJxUUERHAAr0ptMqllHQt98IkLwdKPTeFqPuHCSfLvJK6EQ9PDH\nDaHgjcw/aqTK46DSCvgpuYwLwBKexT0YT8QUDoD5tcq7ZlkNMy5F0/6KI0Yurvpw\nKQRa7AhYkw9VMeLRFDj1Fb57lESkZ7r8MZcWBqwKL0ARSt/QIucDxoKpzPa+6k+/\neAcS6r3kOfDVtmItMNbcySURYBiv/CEWfVMM795kbZ4rzbj7RprqgTPYVqlsV/Fp\n3ULUtqw7ZorjBmdWJvJx/8Z+KSA50GMPHvpBHqVEr00uYb3bNnBII/+gY2AeWhRz\n4v+eW/OZs8CXwz2d3w8qHLEfKgvW5otV0sg3d6kl2sBz5upq4oDKJahuroqAGpzK\nF98HjY40nQ6mS+nQSNyivAR6/yivVROvz94Gt38KWdhTAf/wYeS2oIWYFR9YxjDv\nflmjw3e/\n=Cmon\n-----END PGP SIGNATURE-----\n",
    "payload": "object ccb5efd37fb7c86364786e9137e22948751de7ed\ntype commit\ntag v1.0.0-rc6\ntagger Aleksa Sarai <asarai@suse.de> 1542774908 +1100\n\nv1.0.0~rc6\n\nThis is the final feature release of runc before 1.0, rather than 1.0\nitself. The reason for tihs is that, during the preparations for this\nrelease (which was originally meant to be 1.0) it was brought up that\nthere were several spec-compliance problems. One of these was related to\nhook ordering, and upon trying to fix them it turns out that many users\n(notably the NVIDIA OCI hooks) make use of our incorrect hook ordering.\nMany of the proposed solutions to this problem all require a lot of time\nand co-ordination, and thus would stall this release indefinitely.\n\nSo, the idea is to have an intermediate release which will mark a\nfreeze-on-everything-except-spec-compliance-bugs. No other changes will\nbe included pre-1.0 (aside from security patches obviously).\n\nFeatures:\n + Upgrade to using Go 1.10. #1711\n + Upgrade to CRIU 3.11. #1711 #1864 #1935 #1936\n + Allow for checkpoint-restore into a foreign network namespace. #1849\n + The \"type\" field for bind-mounts is now ignored. This is important, because\n   many users incorrectly assume that \"type\" defines a bind-mount and not\n   \"options\". Previously you had to set both. #1753 #1845\n + \"setgroups=allow\" is now possible in rootless mode, but requires the use of\n   the privileged newgidmap helper (fully-rootless still requires\n   \"setgroups=deny\"). #1693\n + Rootless mode can now safely ignore a read-only cgroupfs. #1759 #1806\n + Several aspects of rootless mode are now used inside user namespaces. This\n   is necessary for a bunch of useful things (such as running Docker inside an\n   user namespace), but did cause some breakages. We think they've all been\n   fixed -- but if not please submit an issue! #1688 #1808 #1816 #1862\n + Improve kernel.{domain,host}name sysctl handling, to allow the NIS\n   domainname to be set from Docker or other callers without an OCI spec\n   change. #1827\n + Add documentation for one of the more confusion parts of runc, how terminals\n   are handled (including an explanation of --console-socket). All the gory\n   details and recommendations are available in docs/terminals.md. #1730\n + Allow /proc to be bind-mounted over (useful for rootless containers). #1832\n + Ignore ENOSYS for keyctl(2) operations. This is necessary to get Docker\n   working with LXC under the default seccomp profile (which is what ChromeOS\n   uses). #1893\n + Add support for the Intel RDT/MBA resource control system. #1632 #1913\n + Allow building with completely-disabled kmemcg support, to get around\n   problems with broken kernels (RHEL 7.5 can oops with kmemcg accounting\n   enabled). #1921 #1922 #1930\n + Add support for cgroup namespaces, which in turn fixes a few other issues we\n   encountered with the previous code (which could be moving us to a cgroup\n   during Go execution). #1916\n\nFixes:\n * Namespace creation with user namespaces now plays a bit nicer with SELinux\n   and IPC (which had a bug where the in-kernel mqueue mount would have the\n   wrong tag if using unshare(CLONE_NEWUSER|CLONE_NEWIPC)). This is done to\n   avoid future problems with broken kernel integration. #1562\n * Mild refactor of libcontainer/user. #1749\n * Fix null-pointer-exception when no cgroups were set. #1752\n * Various DBus and systemd related changes for the systemd-cgroup driver.\n   #1754 #1772 #1776 #1781 #1805 #1917\n * Apply SELinux label to masked directories. #1756\n * Obey the XDG spec and set the sticky bit on runc's root when using\n   XDG_RUNTIME_DIR (in rootless mode). #1760\n * Only configure network namespaces if we are creating them. #1777\n * Fix race in runc-exec against a currently-exiting pid1. #1812\n * Forward GOMAXPROCS to try to reduce the number of threads started by 'runc\n   init'. Unforunately there's no way to stop Go from spawning new threads so\n   this is more of a recommendation. #1830\n * Fix tmpcopyup in cases where /tmp is not a private mount. #1873\n * Whitelist /proc/loadavg for bind-mounting. #1882\n * Protect against deletion of runc state directory with a containerid of \"..\",\n   as well as the addition of other path hardening code. #1883\n * Handle duplicated cgroupfs mountpoint entries more sanely, to make runc work\n   on distributions that use-and-abuse shared subtrees. #1817\n * Fix console hanging in several cases. #1895 #1897\n * Lock-to-a-thread during 'runc init' to ensure that that we don't switch\n   threads and run within a different SELinux label. #1814\n * Respect cgroupPath when trying to find the cgroupfs mountpoint (which can\n   happen in cases where containers are given different cgroupfs mounts). #1872\n * And many other minor changes, many from first-time contributors! #1746 #1748\n   #1749 #1784 #1779 #1785 #1796 #1819 #1825 #1836 #1824 #1820 #1838 #1840\n   #1841 #1867 #1871 #1855 #1854 #1874 #1868 #1886 #1892 #1858 #1894 #1908\n   #1880 #1910 #1915 #1903 #1922 #1926 #1928 #1925 #1911\n\nFixes (for spec violations):\n * Don't set a container to \"running\" when exec-ing into it (because it might\n   be in the \"created\" state). #1771\n * oom_score_adj is now no longer modified if it was unspecified in config.json\n   (this was a spec violation). #1759\n * Set \"status\" in hook stdin, as well as switch to using *spec.State to avoid\n   JSON-representation drift. #1741\n\nThanks to all of the contributors that made this release possible:\n\n * Ace-Tang <aceapril@126.com>\n * Adrian Reber <areber@redhat.com>\n * Akihiro Suda <suda.akihiro@lab.ntt.co.jp>\n * Alban Crequy <alban@kinvolk.io>\n * Aleksa Sarai <asarai@suse.de>\n * Alex Glikson <alex.glikson@gmail.com>\n * Andrei Vagin <avagin@virtuozzo.com>\n * Antonio Murdaca <runcom@redhat.com>\n * Bin Chen <nk@devicu.com>\n * ChangFeng <changfeng@pinduoduo.com>\n * Chris Aniszczyk <caniszczyk@gmail.com>\n * Danail Branekov <danailster@gmail.com>\n * Daniel, Dao Quang Minh <dqminh89@gmail.com>\n * Daniel J Walsh <dwalsh@redhat.com>\n * Denys Smirnov <denys@sourced.tech>\n * Derek Carr <decarr@redhat.com>\n * dlorenc <lorenc.d@gmail.com>\n * Dmitry Smirnov <onlyjob@member.fsf.org>\n * Dominik Süß <dominik@suess.wtf>\n * Filipe Brandenburger <filbranden@google.com>\n * Giuseppe Scrivano <gscrivan@redhat.com>\n * Harald Nordgren <haraldnordgren@gmail.com>\n * Jay Kamat <jaygkamat@gmail.com>\n * Jonathan Marler <johnnymarler@gmail.com>\n * Kenta Tada <Kenta.Tada@sony.com>\n * Kir Kolyshkin <kolyshkin@gmail.com>\n * Lifubang <lifubang@acmcoder.com>\n * Lin Yang <lin.a.yang@intel.com>\n * Marco Vedovati <mvedovati@suse.com>\n * Michael Crosby <crosbymichael@gmail.com>\n * Mike Brown <brownwm@us.ibm.com>\n * Mrunal Patel <mrunalp@gmail.com>\n * Nalin Dahyabhai <nalin@redhat.com>\n * Qiang Huang <h.huangqiang@huawei.com>\n * Sebastien Boeuf <sebastien.boeuf@intel.com>\n * Sergio Lopez <slp@redhat.com>\n * Tamal Saha <tamal@appscode.com>\n * Tibor Vass <tibor@docker.com>\n * vikaschoudhary16 <choudharyvikas16@gmail.com>\n * Vincent Batts <vbatts@hashbangbash.com>\n * W. Trevor King <wking@tremily.us>\n * Xiaochen Shen <xiaochen.shen@intel.com>\n * Yan Zhu <yanzhu@alauda.io>\n * Yuanhong Peng <pengyuanhong@huawei.com>\n\nSigned-off-by: Aleksa Sarai <asarai@suse.de>\n"
  }
}
